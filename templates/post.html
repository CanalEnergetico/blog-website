{% extends "base.html" %}

{% block title %}{{ articulo.titulo }} ‚Äì Canal Energ√©tico{% endblock %}

{% block content %}
<div class="container">
<!-- Breadcrumbs -->
  <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb small">
      <li class="breadcrumb-item"><a href="{{ url_for('home') }}">Inicio</a></li>
      <li class="breadcrumb-item"><a href="{{ url_for('articulos_todos') }}">Art√≠culos</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ articulo.titulo }}</li>
    </ol>
  </nav>
<!-- Art√≠culo -->
  <article class="blog-post">
    <h1 class="blog-post-title">{{ articulo.titulo }}</h1>
    <p class="blog-post-meta">
      {{ articulo.fecha }} por
      <a>{{ articulo.autor }}</a>
    </p>

    {% if articulo.img_url %}
      <img
        src="{{ articulo.img_url }}"
        alt="{{ articulo.titulo }}"
        class="img-fluid rounded mb-3 mx-auto d-block"
        style="max-height: 500px; object-fit: cover;">
      {% if articulo.img_fuente %}
        <figcaption class="figure-caption text-end fst-italic">
          Fuente: {{ articulo.img_fuente }}
        </figcaption>
      {% endif %}
    {% endif %}

    <div class="article-content"
         style="text-align: justify; ">
      {{ articulo.contenido | safe }}
    </div>
  </article>
</div>

<!-- FORMULARIO DE COMENTARIOS -->
<section class="mb-5 mt-4">
  <h3 class="mb-3">üí¨ Deja un comentario</h3>
  <div class="card shadow-sm border-0">
    <div class="card-body">
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="mb-3">
          {{ form.nombre.label(class="form-label") }}
          {{ form.nombre(class="form-control", placeholder="Tu nombre") }}
        </div>
        <div class="mb-3">
          {{ form.correo.label(class="form-label") }}
          {{ form.correo(class="form-control", placeholder="Tu correo electr√≥nico") }}
        </div>
        <div class="mb-3">
          {{ form.comentario.label(class="form-label") }}
          {{ form.comentario(class="form-control", rows=3, placeholder="Escribe tu comentario aqu√≠...") }}
        </div>
        {{ form.submit(class="btn btn-primary px-4") }}
      </form>
    </div>
  </div>
</section>

<hr class="my-4">

<!-- LISTA DE COMENTARIOS -->
<section>
  <h3 class="mb-3">üó®Ô∏è Comentarios</h3>
  {% if comentarios %}
    <div class="list-group">
      {% for c in comentarios %}
        <div class="list-group-item list-group-item-action flex-column align-items-start">
          <div class="d-flex w-100 justify-content-between">
            <h6 class="mb-1">{{ c.nombre }}</h6>
            <small class="text-muted">{{ c.fecha }}</small>
          </div>
          <p class="mb-1">{{ c.comentario }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted fst-italic">No hay comentarios a√∫n. ¬°S√© el primero en opinar!</p>
  {% endif %}
</section>


{% endblock %}
